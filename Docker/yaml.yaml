version: "3.9"

services:

  mongo:
    image: mongo:7
    container_name: mongo
    ports:
      - "27017:27017"
    volumes:
      - mongo_data:/data/db

  retriever:
    build: ./retriever
    container_name: retriever
    depends_on:
      - mongo
    environment:
      - MONGO_URI=mongodb://mongo:27017
    networks:
      - pipeline_net

  preprocessor:
    build: ./preprocessor
    container_name: preprocessor
    depends_on:
      - retriever
    networks:
      - pipeline_net

  enricher:
    build: ./enricher
    container_name: enricher
    depends_on:
      - preprocessor
    networks:
      - pipeline_net

  persister:
    build: ./persister
    container_name: persister
    depends_on:
      - enricher
      - mongo
    networks:
      - pipeline_net

volumes:
  mongo_data:

networks:
  pipeline_net:
    driver: bridge



#ğŸ”¹ ×”×¡×‘×¨ ×§×¦×¨
#
#services â†’ ×›×œ ×©×™×¨×•×ª ××§×‘×œ ×©×, ×ª××•× ×” ××• build, ××©×ª× ×™ ×¡×‘×™×‘×” ×•×¨×©×ª.
#
#depends_on â†’ ××‘×˜×™×— ×©×”×©×™×¨×•×ª×™× ×™×¨×•×¦×• ×œ×¤×™ ×¡×“×¨ ×ª×œ×•×ª.
#
#volumes â†’ ×××¤×©×¨ ×©××™×¨×” ×©×œ × ×ª×•× ×™× ×‘××•× ×’×• ×’× ××—×¨×™ ×¢×¦×™×¨×”.
#
#networks â†’ ×¨×©×ª ×¤× ×™××™×ª ×‘×™×Ÿ ×”×©×™×¨×•×ª×™×.
#
#2ï¸âƒ£ ××™×š ××¢×“×›× ×™× ××ª docker-compose.yml
#
#×›×œ ×¤×¢× ×©××ª×” ××©× ×”:
#
#Dockerfile ×©×œ ×©×™×¨×•×ª
#
#××©×ª× ×™ ×¡×‘×™×‘×”
#
#×ª×œ×•×ª ×‘×™×Ÿ ×©×™×¨×•×ª×™×
#
#ports ××• volumes
#
#××ª×” ×¤×©×•×˜:
#
#docker-compose up -d --build
#
#
#Compose ××–×”×” ×©×™× ×•×™×™× ×‘â€‘Dockerfile ××• ×‘×§×•×“ ×©×œ ×”×©×™×¨×•×ª×™×
#
#×‘×•× ×” ××—×“×© ×¨×§ ××ª ××” ×©×¦×¨×™×š
#
#××¨×™×¥ ××ª ×”×§×•× ×˜×™×™× ×¨×™× ×”×—×“×©×™× ×‘×¨×§×¢
#
#×× ×œ× ×©×™× ×™×ª ××ª Dockerfile ××• ×”×§×•×“ ×•××ª×” ×¨×§ ×¨×•×¦×” ×œ×”×¤×¢×™×œ ×©×™×¨×•×ª ×—×“×© ×©× ×•×¡×£ ×œÖ¾docker-compose.yml:
#
#docker-compose up -d
#
#
#Compose ×™×ª×—×‘×¨ ×œ×©×™×¨×•×ª×™× ×”×§×™×™××™×, ×™×¨×™×¥ ××ª ×”×—×“×© ×‘×œ×™ build ××—×“×©.
#
#ğŸ’¡ ×˜×™×¤ ×©×™××•×©×™:
#
#×ª××™×“ ×©××¨×• ×¢×•×ª×§ ×©×œ docker-compose.yml ×‘×ª×™×§×™×™×ª root ×©×œ ×”×¤×¨×•×™×§×˜.
#
#×× ××•×¡×™×¤×™× ×©×™×¨×•×ª ×—×“×©, ×¤×©×•×˜ ×”×•×¡×™×¤×• ××•×ª×• ×‘Ö¾services: ×•××– docker-compose up -d â€“ Compose ×™×˜×¤×œ ×‘×©××¨.



frfrfgrgfrgrgrgr